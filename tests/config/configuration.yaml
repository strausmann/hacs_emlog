# Home Assistant Test Configuration für Emlog Integration
homeassistant:
  name: 'Emlog Development'
  latitude: 50.0
  longitude: 10.0
  elevation: 0
  unit_system: metric
  time_zone: 'Europe/Berlin'
  external_url: 'http://localhost:8123'
  internal_url: 'http://localhost:8123'

# Alle Standard Komponenten laden
default_config:

# Lovelace im YAML-Modus für reproduzierbare UI
lovelace:
  mode: yaml

# HTTP Konfiguration für Codespaces/Docker Compose
http:
  use_x_forwarded_for: true
  trusted_proxies:
    # RFC 1918 private IPv4 ranges
    - 10.0.0.0/8
    - 172.16.0.0/12 # Alle 172.16.x.x - 172.31.x.x
    - 192.168.0.0/16
    # Loopback
    - 127.0.0.0/8
    - ::1/128
    # IPv6 private
    - fc00::/7
  ip_ban_enabled: false # Disable IP banning for development
  login_attempts_threshold: -1 # Disable login attempt limiting
  cors_allowed_origins:
    - 'http://localhost:8123'
    - 'http://127.0.0.1:8123'
    - 'https://glowing-space-goggles-65pgrpx69jc5577-8123.app.github.dev'

# Logging
logger:
  default: info
  logs:
    custom_components.emlog: debug

# Emlog Integration wird über UI konfiguriert (nicht YAML)

# Dynamische Helfer für Tests - werden über UI der Integration konfiguriert
# (können als input_number Entities angelegt werden und in Integrations-Optionen verlinkt werden)
input_number:
  strom_preis_kwh:
    name: 'Strompreis (€/kWh)'
    min: 0
    max: 5
    step: 0.0001
    unit_of_measurement: 'EUR/kWh'
    icon: 'mdi:currency-eur'
    initial: 0.3850

  strom_grundpreis_monat:
    name: 'Stromgrundpreis (€/Monat)'
    min: 0
    max: 200
    step: 0.01
    unit_of_measurement: 'EUR'
    icon: 'mdi:currency-eur'
    initial: 50.00

  strom_abschlag_monat:
    name: 'Strom Abschlagszahlung (€/Monat)'
    min: 0
    max: 500
    step: 0.01
    unit_of_measurement: 'EUR'
    icon: 'mdi:currency-eur'
    initial: 120.00

  gas_preis_kwh:
    name: 'Gaspreis (€/kWh)'
    min: 0
    max: 5
    step: 0.0001
    unit_of_measurement: 'EUR/kWh'
    icon: 'mdi:currency-eur'
    initial: 0.1200

  gas_grundpreis_monat:
    name: 'Gasgrundpreis (€/Monat)'
    min: 0
    max: 200
    step: 0.01
    unit_of_measurement: 'EUR'
    icon: 'mdi:currency-eur'
    initial: 15.00

  gas_abschlag_monat:
    name: 'Gas Abschlagszahlung (€/Monat)'
    min: 0
    max: 200
    step: 0.01
    unit_of_measurement: 'EUR'
    icon: 'mdi:currency-eur'
    initial: 80.00

  gas_brennwert:
    name: 'Gasbrennwert'
    min: 0
    max: 20
    step: 0.001
    unit_of_measurement: 'kWh/m³'
    icon: 'mdi:fire'
    initial: 11.58

  gas_zustandszahl:
    name: 'Gaszustandszahl'
    min: 0
    max: 2
    step: 0.0001
    icon: 'mdi:gauge'
    initial: 0.95
